<div class="container quiz-container p-4 rounded shadow-lg">
    <h2 class="text-center text-primary">ðŸ§  Interactive Quiz</h2>
    <div *ngIf="questions.length > 0" class="question-card">
        <h4 class="text-center text-dark">Question {{ currentQuestionIndex + 1 }} / {{ questions.length }}</h4>
        @if(questions[currentQuestionIndex].type.match("equation_with_graphs")){
          <div class="title-question">
            <p class="fw-bold text-center text-dark">{{ questions[currentQuestionIndex].question || 'Identify the correct equation:' }}</p>
          </div>
        <div class="answers">
        <ul class="list-group" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
            <li *ngFor="let option of questions[currentQuestionIndex].answers; let i = index"
                (click)="selectAnswer(i)"
                [class.selected]="selectedAnswers[currentQuestionIndex] === i"
                class="list-group-item list-group-item-action">
                <app-signal-graph [equation]="option"></app-signal-graph>
            </li>
        </ul>
      </div>
        }
        @else if(questions[currentQuestionIndex].type.match("graph_with_equations")){
          <div class="title-question">
            <p class="fw-bold text-center text-dark"><app-signal-graph [equation]="questions[currentQuestionIndex].question"></app-signal-graph></p>
          </div>
          <div class="answers">
            <ul class="list-group" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                <li *ngFor="let option of questions[currentQuestionIndex].answers; let i = index"
                    (click)="selectAnswer(i)"
                    [class.selected]="selectedAnswers[currentQuestionIndex] === i"
                    class="list-group-item list-group-item-action">
                {{ option }}
                </li>
            </ul></div>
            }
        @else if(questions[currentQuestionIndex].type.match("graph_with_energy")){
          <div class="title-question">
            <p class="fw-bold text-center text-dark"><app-signal-graph [equation]="questions[currentQuestionIndex].question"></app-signal-graph></p>
          </div>
          <div class="answers">
            <ul class="list-group" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                <li *ngFor="let option of questions[currentQuestionIndex].answers; let i = index"
                    (click)="selectAnswer(i)"
                    [class.selected]="selectedAnswers[currentQuestionIndex] === i"
                    class="list-group-item list-group-item-action">
                {{ option }}
                </li>
            </ul></div>
        }
        @else{
          <div class="title-question">
            <p class="fw-bold text-center text-dark">{{ questions[currentQuestionIndex].question || 'Identify the correct equation:' }}</p>
          </div>
          <div class="answers">
            <ul class="list-group" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                <li *ngFor="let option of questions[currentQuestionIndex].answers; let i = index"
                    (click)="selectAnswer(i)"
                    [class.selected]="selectedAnswers[currentQuestionIndex] === i"
                    class="list-group-item list-group-item-action">
                {{ option }}
                </li>
            </ul>
          </div>
        }
      <div class="d-flex justify-content-between mt-3 prev-next-btn">
        <button class="btn btn-secondary" (click)="prevQuestion()" [disabled]="currentQuestionIndex === 0">â¬… Previous</button>
        <button class="btn btn-success" (click)="nextQuestion()" [disabled]="currentQuestionIndex === questions.length - 1">Next âž¡</button>
      </div>
    </div>
  </div>


  <!-- <div class="container quiz-container p-4 rounded shadow-lg">
    <h2 class="text-center text-primary">ðŸ§  Interactive Quiz</h2>
  
    <div *ngIf="questions.length > 0" class="question-card">
      <h4 class="text-center text-dark">Question {{ currentQuestionIndex + 1 }} / {{ questions.length }}</h4>
      
      <ng-container *ngIf="questions[currentQuestionIndex] as question">
        <p class="fw-bold text-center text-dark">
          <ng-container *ngIf="question.type.match('equation_with_graphs'); else otherQuestionTypes">
            {{ question.question || 'Identify the correct equation:' }}
          </ng-container>
        </p>
  
        <ul class="list-group">
          <li *ngFor="let option of question.answers; let i = index"
              (click)="selectAnswer(i)"
              [class.selected]="selectedAnswers[currentQuestionIndex] === i"
              class="list-group-item list-group-item-action">
            <ng-container [ngSwitch]="question.type">
              <ng-container *ngSwitchCase="'equation_with_graphs'">
                <app-signal-graph [equation]="option"></app-signal-graph>
              </ng-container>
              <ng-container *ngSwitchCase="'graph_with_equations'">
                {{ option }}
              </ng-container>
              <ng-container *ngSwitchCase="'graph_with_energy'">
                {{ option }}
              </ng-container>
              <ng-container *ngSwitchDefault>
                {{ option }}
              </ng-container>
            </ng-container>
          </li>
        </ul>
  
        <ng-template #otherQuestionTypes>
          <p class="fw-bold text-center text-dark">
            <app-signal-graph [equation]="question.question"></app-signal-graph>
          </p>
        </ng-template>
      </ng-container>
  
      <div class="d-flex justify-content-between mt-3">
        <button class="btn btn-secondary" (click)="prevQuestion()" [disabled]="currentQuestionIndex === 0">
          â¬… Previous
        </button>
        <button class="btn btn-success" (click)="nextQuestion()" [disabled]="currentQuestionIndex === questions.length - 1">
          Next âž¡
        </button>
      </div>
    </div>
  </div> -->
  